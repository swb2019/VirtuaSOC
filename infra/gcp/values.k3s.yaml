fullnameOverride: virtuasoc

image:
  api:
    repository: ghcr.io/swb2019/virtuasoc-api
    tag: latest
  worker:
    repository: ghcr.io/swb2019/virtuasoc-worker
    tag: latest
  web:
    repository: ghcr.io/swb2019/virtuasoc-web
    tag: latest
  factory:
    repository: ghcr.io/swb2019/virtuasoc-factory
    tag: latest

# When using tag=latest, prefer Always. For pinned SHA tags, use IfNotPresent.
imagePullPolicy: Always

ingress:
  enabled: true
  className: "nginx"
  hosts:
    - host: "app.virtuasoc.com"
      paths:
        - path: /api
          pathType: Prefix
          service: api
        - path: /
          pathType: Prefix
          service: web
    - host: "factory.app.virtuasoc.com"
      paths:
        - path: /
          pathType: Prefix
          service: factory
  tls:
    - secretName: virtuasoc-tls
      hosts:
        - "app.virtuasoc.com"
        - "factory.app.virtuasoc.com"

env:
  # Production: enterprise OIDC enabled (tenant OIDC config is stored in the control-plane DB).
  authMode: oidc
  featureFactoryApp: "true"
  featureRbac: "true"
  featureEvidenceIngest: "true"
  featureEntityLinking: "true"
  featureSignals: "true"
  featureProductFactory: "true"
  featureReviewDistribution: "true"

factory:
  enabled: true

secrets:
  # Create the Kubernetes secret out-of-band (or via Infisical/ESO), not in git.
  create: false
  existingSecretName: virtuasoc-secrets

gcp:
  cloudSqlProxy:
    enabled: false


