apiVersion: secrets.infisical.com/v1alpha1
kind: InfisicalSecret
metadata:
  name: virtuasoc-secrets
  namespace: virtuasoc
spec:
  # Infisical Cloud API
  hostAPI: https://app.infisical.com/api

  # How frequently to resync secrets (seconds)
  resyncInterval: 60

  authentication:
    universalAuth:
      credentialsRef:
        secretName: infisical-universal-auth
        secretNamespace: virtuasoc
      secretsScope:
        # Replace these with your Infisical Project + Environment slugs
        projectSlug: "<INFISICAL_PROJECT_SLUG>"
        envSlug: "<INFISICAL_ENV_SLUG>"
        # Optional: only sync a specific folder/path
        secretsPath: "/"

  # The Kubernetes Secret that VirtuaSOC reads from
  managedKubeSecretReferences:
    - secretName: virtuasoc-secrets
      secretNamespace: virtuasoc
      creationPolicy: Owner


