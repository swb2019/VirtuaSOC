{{- if .Values.secrets.create -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "virtuasoc.secretName" . }}
  labels:
    {{- include "virtuasoc.labels" . | nindent 4 }}
type: Opaque
stringData:
  REDIS_URL: {{ .Values.secrets.redisUrl | quote }}
  CONTROL_DATABASE_URL: {{ .Values.secrets.controlDatabaseUrl | quote }}
  POSTGRES_ADMIN_URL: {{ .Values.secrets.postgresAdminUrl | quote }}
  TENANT_DSN_ENCRYPTION_KEY: {{ .Values.secrets.tenantDsnEncryptionKey | quote }}
  PLATFORM_ADMIN_KEY: {{ .Values.secrets.platformAdminKey | quote }}
  JWT_SECRET: {{ .Values.secrets.jwtSecret | quote }}

  TEAMS_WEBHOOK_URL: {{ .Values.secrets.teamsWebhookUrl | quote }}
  SMTP_HOST: {{ .Values.secrets.smtpHost | quote }}
  SMTP_PORT: {{ .Values.secrets.smtpPort | quote }}
  SMTP_USER: {{ .Values.secrets.smtpUser | quote }}
  SMTP_PASS: {{ .Values.secrets.smtpPass | quote }}
  SMTP_FROM: {{ .Values.secrets.smtpFrom | quote }}
{{- end -}}
